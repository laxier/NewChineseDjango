{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container">
    <h1>Статистика изучения слов</h1>

    {% include 'includes/user_search_form.html' %}

    {% if performances %}
    <div class="table-container">
        <div class="table-row heading">
            <div class="row-item">Слово</div>
            <div class="row-item">Произношение</div>
            <div class="row-item">Перевод</div>
            <div class="row-item">Текущий процент</div>
            <div class="row-item">Текущий прогресс</div>
            <div class="row-item">Дата повтора</div>
        </div>

        {% for performance in performances %}
        <div class="table-row">
            <div class="row-item">{{ performance.word.simplified }}</div>
            <div class="row-item">{{ performance.word.pinyin }}</div>
            <div class="row-item">{{ performance.word.meaning }}</div>
            <div class="row-item">{{ performance }}</div>
            <div class="row-item percent">{{ performance.accuracy_percentage }}%</div>
            <div class="row-item">
                {% if performance.next_review_date < now %}
                {{ performance.next_review_date|timesince }} ago
                {% else %}
                in {{ performance.next_review_date|timeuntil }}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p>Статистика не найдена</p>
    {% endif %}

    {% include 'includes/pagination.html' %}
</div>
{% endblock %}